<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>local storage</title>
	<script type="text/javascript" src="js/jquery-1.12.4.js"></script>
	<script>
	$(document).ready(function(){
		$("#boton1").click(function(){
			var nombre = $("#nombre").val();
			var apellido = $("#apellido").val();
			var codigo = $("#codigo").val();

			var estudiante = {
				codigo: codigo,
				nombre: nombre,
				apellido: apellido
			};

			localStorage.setItem(codigo,JSON.stringify(estudiante));

			listarEstudiantes();
			$("#nombre").val("");
			$("#apellido").val("");
			$("#codigo").val("");
		});
		function listarEstudiantes(){
			var elementos = "Lista Estudiantes: <br>";
			var parrafo1 = $("#p1");

			for (var i=0; i<localStorage.length;i++){
				var clave = localStorage.key(i);
				var persona = $.parseJSON(localStorage.getItem(clave));

				elementos += persona.codigo + "-" + persona.nombre + "-" + persona.apellido+"<br>";
			}

			$(parrafo1).html(elementos);
		}
		listarEstudiantes();
	});
	</script>
</head>
<body>
	<h1>Registro de estudiantes</h1>

	<form >
		Codigo :
		<br>
		<input type="text" id="codigo">
		<br>
		Nombre :
		<br>
		<input type="text" id="nombre">
		<br>
		Apellido: 
		<br>
		<input type="text" id="apellido">

	</form>

	<button id="boton1">Registrar</button>
	<p id="p1"></p>
</body>
</html>